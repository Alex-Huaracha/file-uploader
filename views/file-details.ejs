<!DOCTYPE html>
<html lang="en"></html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Details: <%= file.name %></title>
  </head>
  <body>
    <h1>File Details</h1>

    <a href="/dashboard">Back to Dashboard</a>
    <hr />

    <h2><%= file.name %></h2>
    <form action="/files/<%= file.id %>/update" method="POST" style="margin-bottom: 20px;">
      <input
      type="text"
      name="newName"
      placeholder="New name"
      value="<%= file.name.replace(/\.[^/.]+$/, "") %>"
      required
      >
      <button type="submit">Rename</button>
    </form>

    <ul>
      <li>**ID:** <%= file.id %></li>
      <li>**MIME Type:** <%= file.mimetype %></li>
      <li>**Size:** <%= (file.size / 1024).toFixed(2) %> KB</li>
      <li>**Uploaded on:** <%= file.createdAt.toLocaleString() %></li>
      <li>**Storage ID (physical):** <%= file.storageId %></li>
      <li>**URL (logical):** <%= file.url %></li>
    </ul>

    <a
      href="/files/<%= file.id %>/download"
      style="
        background-color: green;
        color: white;
        padding: 10px 20px;
        text-decoration: none;
      "
    >
      Download File
    </a>

    <hr>

    <form action="/files/<%= file.id %>/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete this file? This action cannot be undone.');">
      <button type="submit" style="background-color: red; color: white; border: none; padding: 10px 20px; cursor: pointer;">
      Delete File Permanently
      </button>
    </form>
  </body>
</html>
